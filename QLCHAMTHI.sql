CREATE DATABASE QLCHAMTHI
USE QLCHAMTHI



SET DATEFORMAT DMY
CREATE TABLE GIANGVIEN
(
 MAGIANGVIEN varchar(15) PRIMARY KEY,
 TENGIANGVIEN nvarchar(50),
 GIOITINH nvarchar(15),
 NGAYSINH smalldatetime,
 SDT varchar(20),
 EMAIL varchar(50),
 LAADMIN tinyint,
 MATKHAU varchar(100)
)

INSERT INTO GIANGVIEN VALUES ('GV01',N'Lê Thị Thắm','Nữ','14/12/2016','0255968968','lett123@gmail.com',1,'123456')
INSERT INTO GIANGVIEN VALUES ('GV02',N'Lý Lan',N'Nữ','11/2/1972','0466232321','lylan123@gmail.com',0,'123456')
INSERT INTO GIANGVIEN VALUES ('GV03',N'Trư Ngộ Tịnh','Nam','26/1/2002','0453334333','toilaconheo@gmail.com',0,'123456')
INSERT INTO GIANGVIEN VALUES ('GV04',N'Ô Mã Nhi','Nam','4/2/2000','0757575755','ilovechina@gmail.com',0,'123456')
INSERT INTO GIANGVIEN VALUES ('GV08',N'Anna Bell','Khác','17/11/2000','0155575755','wibulove@gmail.com',0,'123456')

CREATE TABLE MONHOC
(
 MAMONHOC varchar(10) PRIMARY KEY,
 TENMONHOC nvarchar(100)
)

INSERT INTO MONHOC VALUES ('IT001',N'Nhập môn lập trình')
INSERT INTO MONHOC VALUES ('IT002',N'Lập trình hướng đối tượng')
INSERT INTO MONHOC VALUES ('IT003',N'Cấu trúc dữ liệu và giải thuật')
INSERT INTO MONHOC VALUES ('IT004',N'Cơ sở dữ liệu')
INSERT INTO MONHOC VALUES ('IT005',N'Nhập môn mạng máy tính')
INSERT INTO MONHOC VALUES ('IT007',N'Hệ điều hành')
INSERT INTO MONHOC VALUES ('MA003',N'Đại số tuyến tính')
INSERT INTO MONHOC VALUES ('MA004',N'Cấu trúc rời rạc')
INSERT INTO MONHOC VALUES ('MA005',N'Xác suất thống kê')
INSERT INTO MONHOC VALUES ('MA006',N'Giải tích')
CREATE TABLE DETHI
(
 MADETHI varchar(10) PRIMARY KEY,
 MAGIANGVIEN varchar(15),
 MAMONHOC varchar(10),
 THOILUONG smallint,
 HOCKY tinyint,
 NAMHOC smallint,
 NGAYTHI smalldatetime,
)
INSERT INTO DETHI VALUES ('DT01','GV01','IT001', 90, 2, 2022,'20/6/2022')
INSERT INTO DETHI VALUES ('DT02','GV02','IT001', 90, 2, 2022,'21/6/2022')
INSERT INTO DETHI VALUES ('DT03','GV03','IT001', 90, 2, 2022,'22/6/2022')
INSERT INTO DETHI VALUES ('DT04','GV04','IT001', 90, 2, 2022,'23/6/2022')
INSERT INTO DETHI VALUES ('DT05','GV01','IT002', 90, 2, 2022,'23/6/2022')
INSERT INTO DETHI VALUES ('DT06','GV02','IT002', 90, 2, 2022,'24/6/2022')
INSERT INTO DETHI VALUES ('DT07','GV03','IT002', 90, 2, 2022,'26/6/2022')
INSERT INTO DETHI VALUES ('DT08','GV04','IT002', 90, 2, 2022,'27/6/2022')
INSERT INTO DETHI VALUES ('DT09','GV01','IT003', 90, 2, 2022,'30/6/2022')
INSERT INTO DETHI VALUES ('DT10','GV02','IT003', 90, 2, 2022,'1/7/2022')
INSERT INTO DETHI VALUES ('DT11','GV03','IT003', 90, 2, 2022,'20/6/2022')
INSERT INTO DETHI VALUES ('DT12','GV04','IT003', 90, 2, 2022,'20/6/2022')
INSERT INTO DETHI VALUES ('DT13','GV01','IT004', 90, 2, 2022,'20/6/2022')
INSERT INTO DETHI VALUES ('DT14','GV02','IT004', 90, 2, 2022,'20/6/2022')
INSERT INTO DETHI VALUES ('DT15','GV03','IT004', 90, 2, 2022,'20/6/2022')
INSERT INTO DETHI VALUES ('DT16','GV04','IT004', 90, 2, 2022,'20/6/2022')
INSERT INTO DETHI VALUES ('DT17','GV01','IT005', 90, 2, 2022,'20/6/2022')
INSERT INTO DETHI VALUES ('DT18','GV02','IT005', 90, 2, 2022,'20/6/2022')
INSERT INTO DETHI VALUES ('DT19','GV03','IT005', 90, 2, 2022,'20/6/2022')
INSERT INTO DETHI VALUES ('DT20','GV04','IT005', 90, 2, 2022,'20/6/2022')
CREATE TABLE LOP
(
 MALOP varchar(10)  PRIMARY KEY,
 MAMONHOC varchar(10),
 MAGIANGVIEN varchar(15),
 HOCKY tinyint,
 NAMHOC smallint,
 MADETHI varchar(10),
 MAGIANGVIENCHAMTHI varchar(15) 
)
INSERT INTO LOP VALUES ('IT001.M1','IT001','GV02', 2, 2022,'DT01','GV03')
INSERT INTO LOP VALUES ('IT001.M2','IT001','GV02', 2, 2022,'DT02','GV03')
INSERT INTO LOP VALUES ('IT002.M1','IT002','GV02', 2, 2022,'DT03','GV03')
INSERT INTO LOP VALUES ('IT002.M2','IT002','GV02', 2, 2022,'DT04','GV04')
INSERT INTO LOP VALUES ('IT003.M1','IT003','GV03', 2, 2022,'DT05','GV02')
INSERT INTO LOP VALUES ('IT003.M2','IT003','GV03', 2, 2022,'DT06','GV02')
CREATE TABLE DOKHO
( 
 MADOKHO varchar(10) PRIMARY KEY,
 TENDOKHO nvarchar(20)
)

INSERT INTO DOKHO VALUES ('DE',N'Dễ')
INSERT INTO DOKHO VALUES ('TB',N'Trung bình')
INSERT INTO DOKHO VALUES ('KH',N'Khó')
INSERT INTO DOKHO VALUES ('PT',N'Phức tạp')
CREATE TABLE CAUHOI
(
 MACAUHOI varchar(10) PRIMARY KEY,
 MAMONHOC varchar(10) ,
 MAGIANGVIEN varchar(15),
 MADOKHO varchar(10) ,
 NOIDUNG nvarchar(1000),
)
INSERT INTO CAUHOI VALUES ('CH01','IT001','GV02','TB',N'Khái niệm Nhập môn lập trình' )
INSERT INTO CAUHOI VALUES ('CH02','IT002','GV03','DE',N'Khái niệm Lập trình hướng đối tượng' )
INSERT INTO CAUHOI VALUES ('CH03','IT002','GV03','KH',N'Đa hỉnh là gì' )
INSERT INTO CAUHOI VALUES ('CH04','IT001','GV02','TB',N'Viết hàm tính trung bình mảng là các số nguyên' )
INSERT INTO CAUHOI VALUES ('CH05','IT003','GV03','TB',N'Cài đặt hai thuật toán Dijkstra và Ford-Bellman.' )
INSERT INTO CAUHOI VALUES ('CH06','IT003','GV03','TB',N'Liệt kê các thuật toán sắp xếp.' )
INSERT INTO CAUHOI VALUES ('CH07','IT001','GV03','DE',N'Các cách khác nhau để truyền tham số cho các hàm là gì? Sử dụng cái nào khi nào?' )
INSERT INTO CAUHOI VALUES ('CH08','IT001','GV02','KH',N'Định nghĩa đúng về mảng là gì?' )
INSERT INTO CAUHOI VALUES ('CH09','IT001','GV02','PT',N'Kết quả của chương trình sau là gì? 
#include <stdio.h>
#include <iostream>
 
using namespace std;
 
int array1[] = {1200, 200, 2300, 1230, 1543};
int array2[] = {12, 14, 16, 18, 20};
int temp, result = 0;
 
int main()
{
    for (temp = 0; temp < 5; temp++)
    {
        result += array1[temp];
    }
    for (temp = 0; temp < 4; temp++)
    {
        result += array2[temp];
    }
    cout << result;
    return 0;
}' )
INSERT INTO CAUHOI VALUES ('CH10','IT001','GV02','PT',N'Chỉ số của phần tử cuối cùng của mảng có 9 phần tử là bao nhiêu?' )
INSERT INTO CAUHOI VALUES ('CH11','IT001','GV02','DE',N'Lỗi trong đoạn mã dưới đây là gì và nên sửa lỗi đó như thế nào?
my_struct_t *bar;
 
/* … do stuff, including setting bar to point to a defined my_struct_t object … */
 
memset(bar, 0, sizeof(bar));' )

CREATE TABLE CT_LOP
(
 MALOP varchar(10),
 MSSV varchar(10),
 TENSINHVIEN nvarchar(50),
 DIEMTHI decimal(4,1),
 GHICHU nvarchar(1000),
 CONSTRAINT PK_CT_LOP PRIMARY KEY(MALOP,MSSV)
)

INSERT INTO CT_LOP VALUES ('IT001.M1','20522021',N' Dương Nhật Khoa',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT001.M1','20522022',N' Mai Tiến Dũng',8,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT001.M1','20522023',N' Kim Đan Nghi',10,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT001.M1','20522024',N' Huỳnh Vân Hy',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT001.M1','20522025',N' Hoàng Như Ngân',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT001.M2','20522026',N' Nguyễn Văn Hùng',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT001.M2','20522027',N' Trần Như Ý',8,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT001.M2','20522028',N' Lê Thanh Thủy',10,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT001.M2','20522029',N' Võ Diễm My',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT001.M2','20522030',N' Dương Cẩm Vân',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT002.M1','20522031',N' Đỗ Hoài Nhân',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT002.M1','20522032',N' Đinh Kiều Trang',8,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT002.M1','20522033',N' Võ Như Lài',10,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT002.M1','20522034',N' Phan Thanh Bình',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT002.M1','20522035',N' Lê Phan Vũ Thuận',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT002.M2','20522036',N' Bùi Kiều Nhung',10,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT002.M2','20522037',N' Dương Minh Vương',8,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT002.M2','20522038',N' Hàn Minh Hiền',7,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT002.M2','20522039',N' Nguyễn Minh Nhật',8,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT002.M2','20522040',N' Võ Minh Hiếu',8,N'AĐạt')
INSERT INTO CT_LOP VALUES ('IT003.M1','20522041',N' Tiêu Thanh An',8,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT003.M1','20522042',N' Lê Thùy Bích',7,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT003.M1','20522043',N' Kiều Minh Tuấn',8,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT003.M1','20522044',N' Bùi Anh Thư',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT003.M1','20522045',N' Đặng Mỹ Trang',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT003.M2','20522046',N' Lý Kim Sơn',8,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT003.M2','20522047',N' Mai Phúc Khảo',7,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT003.M2','20522038',N' Bành Gia Nghĩa',8,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT003.M2','20522049',N' Nguyễn Hữu Thắng',9,N'Đạt')
INSERT INTO CT_LOP VALUES ('IT003.M2','20522050',N' Kim Trúc Linh',9,N'Đạt')
CREATE TABLE THAMSO
(
TENTHAMSO nvarchar(30),
GIATRI decimal(5,1),
)

INSERT INTO THAMSO VALUES ('ThoiLuongToiThieu','30')
INSERT INTO THAMSO VALUES ('ThoiLuongToiDa','180')
INSERT INTO THAMSO VALUES ('DiemToiThieu','0')
INSERT INTO THAMSO VALUES ('DiemToiDa','10')
INSERT INTO THAMSO VALUES ('SoCauHoiToiDa','5')

/*CREATE TABLE CT_BAOCAONAM
(
NAM smallint PRIMARY KEY,
MAMONHOC tinyint,
SOLUONGDETHI tinyint,
SOLUONGBAICHAM tinyint,
TYLEDETHI decimal(3,2),
TYLEBAICHAM decimal(3,2),
)
CREATE TABLE BAOCAONAM
(
NAM smallint PRIMARY KEY,
TONGSODETHI tinyint,
TONGSOBAICHAM tinyint,
)*/
CREATE TABLE CT_DETHI
(
MADETHI varchar(10) ,
MACAUHOI varchar(10) 
)
INSERT INTO CT_DETHI VALUES (DT01,CH01)
INSERT INTO CT_DETHI VALUES (DT02,CH02)
INSERT INTO CT_DETHI VALUES (DT05,CH03)
INSERT INTO CT_DETHI VALUES (DT06,CH04)
INSERT INTO CT_DETHI VALUES (DT09,CH05)
INSERT INTO CT_DETHI VALUES (DT10,CH06)